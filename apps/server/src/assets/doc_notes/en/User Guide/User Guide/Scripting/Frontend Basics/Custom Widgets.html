<p>Custom widgets are a special subset of scripts that render graphical elements
  in certain parts of the application. These can be used to add new functionality
  to the Trilium application.</p>
<h2>Preact with JSX vs. vanilla jQuery</h2>
<p>In older versions of Trilium, custom widgets were exclusively written
  in a combination of jQuery with Trilium's internal widget architecture
  (e.g., <code spellcheck="false">BasicWidget</code>, <code spellcheck="false">NoteContextAwareWidget</code>).</p>
<p>Starting with v0.101.0, custom widgets can also be written in JSX using
  the&nbsp;<a class="reference-link" href="#root/_help_KLsqhjaqh1QW">Preact</a>&nbsp;framework.
  Both legacy and Preact widgets have the same capabilities, with a single
  difference:</p>
<ul>
  <li>Preact widgets are content-sized by default whereas legacy widgets need
    <code
    spellcheck="false">this.contentSized()</code>applied in the constructor. For more information,
      see the corresponding section in&nbsp;<a class="reference-link" href="#root/_help_gMkgcLJ6jBkg">Troubleshooting</a>.</li>
</ul>
<p>Wherever possible, widget examples will be both in the legacy and Preact
  format.</p>
<h2>Creating a custom widget</h2>
<ol>
  <li>Create a&nbsp;<a class="reference-link" href="#root/_help_6f9hih2hXXZk">Code</a>&nbsp;note.</li>
  <li>Set the language to:
    <ol>
      <li>JavaScript (frontend) for legacy widgets using jQuery.</li>
      <li>JSX for Preact widgets. You might need to go to Options â†’ Code to enable
        the language first.</li>
    </ol>
  </li>
  <li>Apply the <code spellcheck="false">#widget</code>  <a href="#root/_help_HI6GBBIduIgv">label</a>.</li>
</ol>
<h2>Getting started with a simple example</h2>
<p>Let's start by creating a widget that shows a message near the content
  area. Follow the previous section to create a code note, and use the following
  content.</p>
<h3>Legacy version (jQuery)</h3><pre><code class="language-text-x-trilium-auto">class HelloCenterPane extends api.BasicWidget {

    constructor() {
        super();
        this.contentSized();
    }

    get parentWidget() { return "center-pane" }

    doRender() {
        this.$widget = $("&lt;span&gt;Center pane&lt;/span&gt;");
    }
    
}

module.exports = new HelloCenterPane();</code></pre>
<p><a href="#root/_help_s8alTXmpFR61">Refresh the application</a> and the widget
  should appear underneath the content area.</p>
<h3>Preact version</h3><pre><code class="language-text-x-trilium-auto">import { defineWidget } from "trilium:preact";

export default defineWidget({
    parent: "center-pane",
    render: () =&gt; &lt;span&gt;Center pane from Preact.&lt;/span&gt;
});</code></pre>
<p><a href="#root/_help_s8alTXmpFR61">Refresh the application</a> and the widget
  should appear underneath the content area.</p>
<h2>Widget location (parent widget)</h2>
<p>A widget can be placed in one of the following sections of the applications:</p>
<table
class="ck-table-resized">
  <colgroup>
    <col style="width:15.59%;">
      <col style="width:30.42%;">
        <col style="width:16.68%;">
          <col style="width:37.31%;">
  </colgroup>
  <thead>
    <tr>
      <th>Value for <code>parentWidget</code>
      </th>
      <th>Description</th>
      <th>Sample widget</th>
      <th>Special requirements</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th><code>left-pane</code>
      </th>
      <td>Appears within the same pane that holds the&nbsp;<a class="reference-link"
        href="#root/_help_oPVyFC7WL2Lp">Note Tree</a>.</td>
      <td>Same as above, with only a different <code>parentWidget</code>.</td>
      <td>None.</td>
    </tr>
    <tr>
      <th><code>center-pane</code>
      </th>
      <td>In the content area. If a split is open, the widget will span all of the
        splits.</td>
      <td>See example above.</td>
      <td>None.</td>
    </tr>
    <tr>
      <th><code>note-detail-pane</code>
      </th>
      <td>
        <p>In the content area, inside the note detail area. If a split is open,
          the widget will be contained inside the split.</p>
        <p>This is ideal if the widget is note-specific.</p>
      </td>
      <td><a class="reference-link" href="#root/_help_GhurYZjh8e1V">Note context aware widget</a>
      </td>
      <td>
        <ul>
          <li data-list-item-id="ec06332efcc3039721606c052f0d913fa">The widget must export a <code>class</code> and not an instance of the class
            (e.g. <code>no new</code>) because it needs to be multiplied for each note,
            so that splits work correctly.</li>
          <li data-list-item-id="e8da690a2a8df148f6b5fc04ba1611688">Since the <code>class</code> is exported instead of an instance, the <code>parentWidget</code> getter
            must be <code>static</code>, otherwise the widget is ignored.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <th><code>right-pane</code>
      </th>
      <td>In the&nbsp;<a class="reference-link" href="#root/_help_RnaPdbciOfeq">Right Sidebar</a>,
        as a dedicated section.</td>
      <td><a class="reference-link" href="#root/_help_M8IppdwVHSjG">Right pane widget</a>
      </td>
      <td>
        <ul>
          <li data-list-item-id="efe008d361e224f422582552648e1afe7">Although not mandatory, it's best to use a <code>RightPanelWidget</code> instead
            of a <code>BasicWidget</code> or a <code>NoteContextAwareWidget</code>.</li>
        </ul>
      </td>
    </tr>
  </tbody>
  </table>
  <p>To position the widget somewhere else, just change the value passed to
    <code
    spellcheck="false">get parentWidget()</code>for legacy widgets or the <code spellcheck="false">parent</code> field
      for Preact. Do note that some positions such as <code spellcheck="false">note-detail-pane</code> and
      <code
      spellcheck="false">right-pane</code>have special requirements that need to be accounted for
        (see the table above).</p>
  <h2>Launch bar widgets</h2>
  <p>Launch bar widgets are similar to <em>Custom widgets</em> but are specific
    to the&nbsp;<a class="reference-link" href="#root/_help_xYmIYSP6wE3F">Launch Bar</a>.
    See&nbsp;<a class="reference-link" href="#root/_help_4Gn3psZKsfSm">Launch Bar Widgets</a>&nbsp;for
    more information.</p>
  <h2>Custom position</h2>