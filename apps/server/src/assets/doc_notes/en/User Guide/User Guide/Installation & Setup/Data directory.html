<p>Data directory contains:</p>
<ul>
  <li><code spellcheck="false">document.db</code> - <a href="#root/_help_wX4HbRucYSDD">database</a>
  </li>
  <li><code spellcheck="false">config.ini</code> - instance level settings like
    port on which the Trilium application runs</li>
  <li><code spellcheck="false">backup</code> - contains automatically <a href="#root/_help_ODY7qQn5m2FT">backup</a> of
    documents</li>
  <li><code spellcheck="false">log</code> - contains application log files</li>
</ul>
<h2>Location of the data directory</h2>
<p>Easy way how to find out which data directory Trilium uses is to look
  at the "About Trilium Notes" dialog (from "Menu" in upper left corner):</p>
<p>
  <img src="Data directory_image.png">
</p>
<p>Here's how the location is decided:</p>
<p>Data directory is normally named <code spellcheck="false">trilium-data</code> and
  it is stored in:</p>
<ul>
  <li><code spellcheck="false">/home/[user]/.local/share</code> for Linux</li>
  <li><code spellcheck="false">C:\Users\[user]\AppData\Roaming</code> for Windows
    Vista and up</li>
  <li><code spellcheck="false">/Users/[user]/Library/Application Support</code> for
    Mac OS</li>
  <li>user's home is a fallback if some of the paths above don't exist</li>
  <li>user's home is also a default setup for [[docker|Docker server installation]]</li>
</ul>
<p>If you want to back up your Trilium data, just backup this single directory
  - it contains everything you need.</p>
<h3>Changing the location of data directory</h3>
<p>If you want to use some other location for the data directory than the
  default one, you may change it via <code spellcheck="false">TRILIUM_DATA_DIR</code> environment
  variable to some other location:</p>
<h3>Windows</h3>
<ol>
  <li>Press the Windows key on your keyboard.</li>
  <li>Search and select “Edit the system variables”.</li>
  <li>Press the “Environment Variables…” button in the bottom-right of the newly
    opened screen.</li>
  <li>On the top section ("User variables for [user]"), press the “New…” button.</li>
  <li>In the <em>Variable name</em> field insert <code spellcheck="false">TRILIUM_DATA_DIR</code>.</li>
  <li>Press the <em>Browse Directory…</em> button and select the new directory
    where to store the database.</li>
  <li>Close all the windows by pressing the <em>OK</em> button for each of them.</li>
</ol>
<h4>Linux</h4><pre><code class="language-text-x-trilium-auto">export TRILIUM_DATA_DIR=/home/myuser/data/my-trilium-data</code></pre>
<h4>Mac OS X</h4>
<p>You need to create a <code spellcheck="false">.plist</code> file under
  <code
  spellcheck="false">~/Library/LaunchAgents</code>to load it properly each login.</p>
<p>To load it manually, you need to use <code spellcheck="false">launchctl setenv TRILIUM_DATA_DIR &lt;yourpath&gt;</code>
</p>
<p>Here is a pre-defined template, where you just need to add your path to:</p><pre><code class="language-text-x-trilium-auto">        Label
        set.trilium.env
        RunAtLoad
        
        ProgramArguments
        
            launchctl
            setenv
            TRILIUM_DATA_DIR
            /Users/YourUserName/Library/Application Support/trilium-data    </code></pre>
<h3>Create a script to run with specific data directory</h3>
<p>An alternative to globally setting environment variable is to run only
  the Trilium Notes with this environment variable. This then allows for
  different setup styles like two <a href="#root/_help_wX4HbRucYSDD">database</a> instances
  or "portable" installation.</p>
<p>To do this in Unix-based systems simply run <code spellcheck="false">trilium</code> like
  this:</p><pre><code class="language-text-x-trilium-auto">TRILIUM_DATA_DIR=/home/myuser/data/my-trilium-data trilium</code></pre>
<p>You can then save the above command as a shell script on your path for
  convenience.</p>
<h2>Fine-grained directory/path location</h2>
<p>Apart from the data directory, some of the subdirectories of it can be
  moved elsewhere by changing an environment variable:</p>
<table>
  <thead>
    <tr>
      <th>Environment variable</th>
      <th>Default value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code spellcheck="false">TRILIUM_DOCUMENT_PATH</code>
      </td>
      <td><code spellcheck="false">${TRILIUM_DATA_DIR}/document.db</code>
      </td>
      <td>Path to the&nbsp;<a class="reference-link" href="#root/_help_wX4HbRucYSDD">Database</a>&nbsp;(storing
        all notes and metadata).</td>
    </tr>
    <tr>
      <td><code spellcheck="false">TRILIUM_BACKUP_DIR</code>
      </td>
      <td><code spellcheck="false">${TRILIUM_DATA_DIR}/backup</code>
      </td>
      <td>Directory where automated&nbsp;<a class="reference-link" href="#root/_help_ODY7qQn5m2FT">Backup</a>&nbsp;databases
        are stored.</td>
    </tr>
    <tr>
      <td><code spellcheck="false">TRILIUM_LOG_DIR</code>
      </td>
      <td><code spellcheck="false">${TRILIUM_DATA_DIR}/log</code>
      </td>
      <td>Directory where daily&nbsp;<a class="reference-link" href="#root/_help_bnyigUA2UK7s">Backend (server) logs</a>&nbsp;are
        stored.</td>
    </tr>
    <tr>
      <td><code spellcheck="false">TRILIUM_TMP_DIR</code>
      </td>
      <td><code spellcheck="false">${TRILIUM_DATA_DIR}/tmp</code>
      </td>
      <td>Directory where temporary files are stored (for example when opening in
        an external app).</td>
    </tr>
    <tr>
      <td><code spellcheck="false">TRILIUM_ANONYMIZED_DB_DIR</code>
      </td>
      <td><code spellcheck="false">${TRILIUM_DATA_DIR}/anonymized-db</code>
      </td>
      <td>Directory where a&nbsp;<a class="reference-link" href="#root/_help_x59R8J8KV5Bp">Anonymized Database</a>&nbsp;is
        stored.</td>
    </tr>
    <tr>
      <td><code spellcheck="false">TRILIUM_CONFIG_INI_PATH</code>
      </td>
      <td><code spellcheck="false">${TRILIUM_DATA_DIR}/config.ini</code>
      </td>
      <td>Path to&nbsp;<a class="reference-link" href="#root/_help_Gzjqa934BdH4">Configuration (config.ini or environment variables)</a>&nbsp;file.</td>
    </tr>
  </tbody>
</table>