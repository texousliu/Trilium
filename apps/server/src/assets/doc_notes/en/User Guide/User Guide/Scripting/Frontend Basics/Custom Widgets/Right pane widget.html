<h2>Key highlights</h2>
<ul>
  <li><code spellcheck="false">doRender</code> must not be overridden, instead
    <code
    spellcheck="false">doRenderBody()</code>has to be overridden.
      <ul>
        <li><code spellcheck="false">doRenderBody</code> can optionally be <code spellcheck="false">async</code>.</li>
      </ul>
  </li>
  <li><code spellcheck="false">parentWidget()</code> must be set to <code spellcheck="false">“rightPane”</code>.</li>
  <li><code spellcheck="false">widgetTitle()</code> getter can optionally be
    overriden, otherwise the widget will be displayed as “Untitled widget”.</li>
</ul>
<h2>Example for new layout</h2>
<aside class="admonition important">
  <p>This section addresses example that are tailored for the&nbsp;<a class="reference-link"
    href="#root/_help_IjZS7iK5EXtb">New Layout</a>&nbsp;(available starting with
    v0.101.0) where the right pane widget/sidebar is no longer shown or hidden
    based on the widgets it has.&nbsp;</p>
</aside>
<h3>Title widget</h3>
<p>This is an example of a context-aware widget which displays the title
  of the current note:</p><pre><code class="language-text-x-trilium-auto">class NoteTitleWidget extends api.RightPanelWidget {
    
    get widgetTitle() { return "Note title"; }
    get parentWidget() { return "right-pane" }

    doRenderBody() {
        this.$body.empty();
        if (this.note) {
            this.$body.append($("&lt;div&gt;").text(this.note.title));
        }
    }   
    
    async refreshWithNote() {
    	this.doRenderBody();
    }
}

module.exports = new NoteTitleWidget();</code></pre>
<h3>Clock</h3>
<p>A simple widget which will show the current time, as an example on how
  to dynamically change the content of the widget periodically.</p>
<h3>Legacy widget</h3><pre><code class="language-text-x-trilium-auto">const template = `&lt;div&gt;&lt;/div&gt;`;

class ToDoListWidget extends api.RightPanelWidget {
    
    get widgetTitle() { return "Clock"; }        
    get parentWidget() { return "right-pane" }
    
    async doRenderBody() {
        if (!this.timer) {
            this.timer = setInterval(() =&gt; {
                this.$body.empty().append(`The time is: &lt;span&gt;${new Date().toLocaleString()}&lt;/span&gt;`);                       
            }, 1000);            
        }

        this.$body.empty().append(`The time is: &lt;span&gt;${new Date().toLocaleString()}&lt;/span&gt;`);
    }   
}

module.exports = new ToDoListWidget();</code></pre>
<h3>Preact widget</h3><pre><code class="language-text-x-trilium-auto">import { defineWidget, RightPanelWidget, useEffect, useState } from "trilium:preact";

export default defineWidget({
    parent: "right-pane",    
    position: 1,
    render() {
        const [ time, setTime ] = useState();
        useEffect(() =&gt; {
            const interval = setInterval(() =&gt; {
                setTime(new Date().toLocaleString());
            }, 1000);
            return () =&gt; clearInterval(interval);
        });        
        return (
            &lt;RightPanelWidget id="clock-jsx" title="Clock (JSX)"&gt;
                &lt;p&gt;The time is: {time}&lt;/p&gt;
            &lt;/RightPanelWidget&gt;
        );
    }
});</code></pre>
<h2>Example for old layout</h2>
<p>Here's a widget that displays a basic message ("Hi"):</p><pre><code class="language-text-x-trilium-auto">const template = `&lt;div&gt;Hi&lt;/div&gt;`;

class HelloWorldWidget extends api.RightPanelWidget {
    
    get widgetTitle() {
        return "Title goes here";
    }
        
    get parentWidget() { return "right-pane" }
    
    doRenderBody() {
        this.$body.empty().append($(template));
    }   
    
    async refreshWithNote(note) {
    	// Do something when the note changes.
    }
}

module.exports = new HelloWorldWidget();</code></pre>
<h3>Conditionally changing visibility</h3>
<p>In <code spellcheck="false">refreshWithNote</code>:</p><pre><code class="language-text-x-trilium-auto">const visible = true;	// replace with your own visibility logic
this.toggleInt(visible);
this.triggerCommand("reEvaluateRightPaneVisibility");</code></pre>
<h2>Altering the position within the sidebar</h2>
<p>By default, the sidebar items are displayed in the order they are found
  by the application when searching for <code spellcheck="false">#widget</code> notes.</p>
<p>It is possible to make a widget appear higher or lower up, by adjusting
  its <code spellcheck="false">position</code> property:</p><pre><code class="language-text-x-trilium-auto">class MyWidget extends api.RightPanelWidget {

+    get position() { return 20 };
        
}</code></pre>
<p>Generally the default position starts from 10 and increases by 10 with
  each item, including the default Table of Contents and Highlights list.</p>