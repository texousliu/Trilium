<p>Since v0.101.0, Trilium integrates Preact for front-end scripting, including
  support for JSX.</p>
<p>Preact can be used for:</p>
<ul>
  <li><a class="reference-link" href="#root/_help_HcABDtFCkbFN">Render Note</a>, where
    a JSX code note is used instead of a HTML one.</li>
  <li><a class="reference-link" href="#root/_help_MgibgPcfeuGz">Custom Widgets</a>,
    where JSX can be used to replace the old, jQuery-based mechanism.</li>
</ul>
<p>To get started, the first step is to enable JSX in the list of Code languages.
  Go to Options → Code Notes and check the “JSX” language. Afterwards, proceed
  with the documentation in either&nbsp;<a class="reference-link" href="#root/_help_HcABDtFCkbFN">Render Note</a>&nbsp;or&nbsp;
  <a
  class="reference-link" href="#root/_help_MgibgPcfeuGz">Custom Widgets</a>, which will both have a section on how to use the new
    Preact integration.</p>
<aside class="admonition important">
  <p>The documentation assumes prior knowledge with React or Preact. As a starting
    point, consider the <a href="https://www.freecodecamp.org/learn/front-end-development-libraries-v9/">FreeCodeCamp course on Front End Development Libraries</a> or
    the <a href="https://preactjs.com/tutorial/">Preact Tutorial</a>.</p>
</aside>
<h2>Import/exports</h2>
<p>When using Preact with JSX, there is a special syntax which provides ES-like
  imports. This <code>import</code> syntax makes way for a more intuitive that
  doesn't make use of global objects and paves the way for better auto-completion
  support that might be introduced in the future.&nbsp;</p>
<h3>API imports</h3>
<p>Instead of:</p><pre><code class="language-text-jsx">api.showMessage("Hello");</code></pre>
<p>the JSX version looks like this:</p><pre><code class="language-text-jsx">import { showMessage } from "trilium:api";
showMessage("hello");</code></pre>
<h3>Preact API imports (hooks, components)</h3>
<p>There's a new&nbsp;<a class="reference-link" href="#root/_help_GLks18SNjxmC">Script API</a>&nbsp;dedicated
  to Preact, which provides shared components that are also used by Trilium
  internally as well as hooks, for example.</p><pre><code class="language-text-jsx">import { useState } from "trilium:preact";
const [ myState, setMyState ] = useState("Hi");</code></pre>
<h3>Exporting</h3>
<p>JSX notes can export a component for use in&nbsp;<a class="reference-link"
  href="#root/_help_HcABDtFCkbFN">Render Note</a>&nbsp;or for&nbsp;<a class="reference-link"
  href="#root/_help_Bqde6BvPo05g">Component libraries</a>: </p><pre><code class="language-text-jsx">export default function() {
    return (
        &lt;&gt;
            &lt;p&gt;Hello world.&lt;/p&gt;
        &lt;/&gt;
    );
}</code></pre>
<h3>Import/export are not required</h3>
<p>These imports are syntactic sugar meant to replace the usage for the <code>api</code> global
  object (see&nbsp;<a class="reference-link" href="#root/_help_GLks18SNjxmC">Script API</a>).&nbsp;</p>
<aside
class="admonition note">
  <p>The <code>import</code> and <code>export</code> syntax work only for JSX notes.
    Standard/jQuery code notes still need to use the <code>api</code> global
    and <code>module.exports</code>.</p>
  </aside>
  <h2>Under the hood</h2>
  <p>Unlike JavaScript, JSX requires pre-processing to turn it into JavaScript
    (just like TypeScript). To do so, Trilium uses <a href="https://github.com/alangpierce/sucrase">Sucrase</a>,
    a JavaScript library which processes the JSX to pure JavaScript. The processing
    is done each time a script is run (for widgets this happens at every program
    startup). If you notice any performance degradation due to long compilation,
    consider <a href="#root/_help_wy8So3yZZlH9">reporting the issue</a> to us.</p>